# 文件系统API

温故：

1. `CPU` 视角：外部设备 $\rightarrow$ 寄存器 

2. `OS` 视角：外部设备 $ \xrightarrow[]{（在驱动程序的辅助下）抽象成} $ 可读/写/控制的数据对象（寄存器）

3. 用户（应用程序）视角：`对象 + API` 
    > 中间层：`文件系统` 


```shell
    +--------+
    |应用程序
    +--------+
   --文件系统--
    +----------+
    | OS
    +-驱动程序-+
    +--------
    |外部设备
    +--------

```

`vim main.c`：将磁盘上[xxx]位置的数据块当做`文件`使用


--- 

> 我们通过disk来理解文件系统

操作系统提供文件系统来让APPs使用`disk`的数据空间，而不是直接将`disk`暴露给APPs

文件系统 $\rightarrow$ 更好的管理`disk` 的数据空间

文件设备的设计目的：

1. 多个APPs共享数据

2. 提供隔离，防止恶意/无意损坏数据

文件系统 $ \xrightarrow[]{虚拟化disk} $ disk好像被分割成多个小块空间

> 文件：
>
> 1. 命名
> 
> 2. 查找
> 
> 3. 权限
> 
> 4. 指定文件大小
 


